(this.webpackJsonpyatzy=this.webpackJsonpyatzy||[]).push([[0],{98:function(e,n,t){"use strict";t.r(n);var r,a,c,i,s,o,u,l,p,j,d,b,f,x,O,h,y,m,v,g,k,w,z,S,C,E,T,R=t(4),I=t(1),P=t(41),D=t.n(P),N=t(66),U=t(5),L=t(11),M=t(3),A=t(31),Y=t(2),J=t.n(Y),H=t(6),G=t(30),K=t.n(G),V="/api/points",W=function(){var e=Object(H.a)(J.a.mark((function e(){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.a.get(V);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(H.a)(J.a.mark((function e(){var n,t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:return n=e.sent,e.next=5,n.map((function(e){return console.log("deelte",K.a.delete("".concat(V,"/").concat(e.id)))}));case 5:return t=e.sent,e.abrupt("return",t.data);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(H.a)(J.a.mark((function e(n,t,r){var a,c,i,s,o,u;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:return a=e.sent,e.next=5,a.find((function(e){return e.player===n}));case 5:return c=e.sent,i=c.id,(s=c.points)[t]=r,o=Object(A.a)(Object(A.a)({},c),{},{points:Object(A.a)({},s)}),e.next=12,K.a.put("".concat(V,"/").concat(i),o);case 12:return u=e.sent,e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),Z={getAll:W,postPoints:function(){var e=Object(H.a)(J.a.mark((function e(n){var t,r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={points:{ykkoset:0,kakkoset:0,kolmoset:0,neloset:0,vitoset:0,kutoset:0,valisumma:0,bonus:0,pari:0,kaksiparia:0,kolmesamaa:0,neljasamaa:0,pikkusuora:0,isosuora:0,tayskasi:0,sattuma:0,yatzy:0,pisteet:0},player:n},e.next=3,K.a.post(V,t);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),deleteAll:B,updatePoints:X},F=function(e){return function(){var n=Object(H.a)(J.a.mark((function n(t){var r;return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all(e.map(function(){var e=Object(H.a)(J.a.mark((function e(n){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.postPoints(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 2:r=n.sent,t({type:"INITPOINTS",points:r});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},q=function(e,n,t){return function(){var r=Object(H.a)(J.a.mark((function r(a){return J.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Z.updatePoints(e,n,t);case 2:a({type:"ADDTURNSPOINTS",player:e,combination:n,points:t});case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"INITPOINTS":return n.points;case"ADDTURNSPOINTS":var t=e.find((function(e){return e.player===n.player})),r=t.points,a=n.combination;r[a]=n.points;var c=Object(A.a)(Object(A.a)({},t),{},{points:Object(A.a)({},r)});return e.map((function(e){return e.player!==t.player?e:c}));default:return e}},$=function(e){return function(){var n=Object(H.a)(J.a.mark((function n(t){return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t({type:"INITIALIZETURN",maxTurns:e.length-1,turn:0,player:e[0]});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},_=function(e,n,t){return function(){var r=Object(H.a)(J.a.mark((function r(a){var c;return J.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:c=n===t?0:n+1,a({type:"NEXTTURN",maxTurns:e.length-1,turn:c,player:e[c]});case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"INITIALIZETURN":case"NEXTTURN":return{turn:n.turn,maxTurns:n.maxTurns,player:n.player};default:return e}},ne=U.a.div(r||(r=Object(R.a)(['\n  padding: 12px;\n  color:white;\n  font-family: "Comic Sans MS", cursive, sans-serif;\n font-size: 25px;\n letter-spacing: 2px;\n word-spacing: 2px;\n \n font-weight: 700;\n text-decoration: none solid rgb(68, 68, 68);\n font-style: italic;\n font-variant: small-caps;\n text-transform: capitalize;']))),te=U.a.div(a||(a=Object(R.a)(['\npadding: 0px;\ncolor:white;\nfont-family: "Comic Sans MS", cursive, sans-serif;\nfont-size: 25px;\nletter-spacing: 2px;\nword-spacing: 2px;\n\nfont-weight: 700;\ntext-decoration: none solid rgb(68, 68, 68);\nfont-style: italic;\nfont-variant: small-caps;\ntext-transform: capitalize;']))),re=U.a.button(c||(c=Object(R.a)(["\nmargin: 10px;\npadding:0x;\nbackground: transparent;\nborder: 5px groove rgba(20,20,20,0.17);\n&:hover {\n  background: \trgb(255,240,219,0.5)\n  \n}\n\n\n"]))),ae=U.a.div(i||(i=Object(R.a)(['\n  padding: 12px;\n  color:white;\n  font-family: "Comic Sans MS", cursive, sans-serif;\n font-size: 17x;\n letter-spacing: 2px;\n word-spacing: 2px;\n \n font-weight: 700;\n text-decoration: none solid rgb(68, 68, 68);\n font-style: italic;\n font-variant: small-caps;\n text-transform: capitalize;']))),ce=U.a.input(s||(s=Object(R.a)(["\n\npadding:6px;\nfont-size: 25px;\nborder-width: 0px;\nbox-shadow: 0px 0px 5px rgba(66,66,66,.75);\n   background: transparent;\n   border: 5px groove rgba(20,20,20,0.17);\n   &:hover {\n    background: rgb(250, 249, 249,0.4)\n    \n  }\n   \n"]))),ie=U.a.div(o||(o=Object(R.a)(["\nfont-family: \"Lucida Console\", Monaco, monospace;\nfont-size: 27px;\nletter-spacing: 0px;\nword-spacing: 0px;\ncolor: #000000;\nfont-weight: 700;\ntext-decoration: none;\nfont-style: normal;\nfont-variant: normal;\ntext-transform: none;\npadding: 10px;\ntextDecoration: 'none';\n&:hover {\nbackground: rgb(255,240,219,0.5)\n}\n\n"]))),se=U.a.nav(u||(u=Object(R.a)(["\ndisplay: flex;\nflex-direction: row;\nbackground: rgba(7,7,7, 0.1);\njustify-content: space-around;\nheight : 45px;\n\n"]))),oe=U.a.div(l||(l=Object(R.a)(["\nborder: 10px groove rgba(20,20,20,0.17);\nbox-sizing: content-box;\nmargin: 75px;\nwidth: 1200px;\nheight: 400px;\npadding: 5px;\ndisplay:flex;\nflex-direction: column;\njustify-content: flex-end;\noverflow: auto;\n"]))),ue=U.a.div(p||(p=Object(R.a)(["\nwidth: 900px;\ncolor:black;\nfont-size: 25px;\njustify-content: left;\ntext-align: left;\n\n"]))),le=U.a.div(j||(j=Object(R.a)(["\noverflow-y: scroll\n"]))),pe=U.a.div(d||(d=Object(R.a)(['\n  padding: 12px;\n  color:white;\n  font-family: "Comic Sans MS", cursive, sans-serif;\n font-size: 40px;\n letter-spacing: 2px;\n word-spacing: 2px;\n \n font-weight: 700;\n text-decoration: none solid rgb(68, 68, 68);\n font-style: italic;\n font-variant: small-caps;\n text-transform: capitalize;']))),je=U.a.table(b||(b=Object(R.a)(["\n    margin-left: auto;\n    margin-right: auto;\n    display:flex;\n    justify-content: center;\n    row-gap: 20px;\n    column-gap: 2rem;\n    border-collapse: collapse; \n    "]))),de=U.a.td(f||(f=Object(R.a)(['\ndisplay:flex;\njustify-content:center;\n color:white;\n font-family: "Comic Sans MS", cursive, sans-serif;\nfont-size: 25px;\nletter-spacing: 2px;\nword-spacing: 2px;\n\nfont-weight: 700;\ntext-decoration: none solid rgb(68, 68, 68);\nfont-style: italic;\nfont-variant: small-caps;\ntext-transform: capitalize;\n    ']))),be=U.a.tr(x||(x=Object(R.a)(["\nborder: 5px groove rgba(20,20,20,0.17);\nborder-radius: 40px 40px 40px 40px;\n\n"]))),fe=U.a.td(O||(O=Object(R.a)(["\n        padding : 5px; \n        width : 70px;   \n        font : cursive;\n        color: white;\n        font-size: 25px;\n        \n        "]))),xe=U.a.td(h||(h=Object(R.a)(["\nwidth: 40px;\n"]))),Oe=U.a.td(y||(y=Object(R.a)(['\n color:white;\n font-family: "Comic Sans MS", cursive, sans-serif;\nfont-size: 25px;\nletter-spacing: 2px;\nword-spacing: 2px;\nfont-weight: 700;\ntext-decoration: none solid rgb(68, 68, 68);\nfont-style: italic;\nfont-variant: small-caps;\ntext-transform: capitalize;\npadding: 10px;\n']))),he=t(0),ye=U.a.input(m||(m=Object(R.a)(["\nwidth : 65px;   \n        border-style: double;\n        background: transparent;\n        border: 3px groove rgba(164,164,164,0.17);\n        &:hover {\n          background: #fff0db;\n          \n        }\n        "]))),me=function(){var e=Object(M.b)(),n=Object(I.useState)([]),t=Object(L.a)(n,2),r=t[0],a=t[1],c=["ykkoset","kakkoset","kolmoset","neloset","vitoset","kutoset","valisumma","bonus","pari","kaksiparia","kolmesamaa","neljasamaa","pikkusuora","isosuora","tayskasi","sattuma","yatzy","pisteet"],i=Object(M.c)((function(e){return e.players})),s=Object(M.c)((function(e){return e.turn})),o=Object(M.c)((function(e){return e.points})),u=Object(M.c)((function(e){return e.socket}));Object(I.useEffect)((function(){u.on("valisummaPoints",(function(n){n.map((function(n){return e(q(n.player,"valisumma",j(n.points)))})),n.map((function(n){return e(q(n.player,"bonus",j(n.points)<63?0:50))}))})),u.on("allPoints",(function(n){n.map((function(n){return e(q(n.player,"pisteet",p(n.points)))}))}))}),[""]),Object(I.useEffect)((function(){return u.on("turns-stats",(function(n,t,r){e(q(n,t,Number(r))),e(_(i,s.turn,s.maxTurns))})),function(){u.off("turns-stats")}}),[s]);var l=function(e){e.preventDefault();var n=e.target.name.split(",");n.push(e.target.value),a(n)},p=function(e){return Object.values(e).slice(6,15).reduce((function(e,n){return e+n}),0)},j=function(e){return Object.values(e).slice(0,6).reduce((function(e,n){return e+n}),0)};return Object(he.jsxs)("div",{children:[Object(he.jsx)(je,{children:Object(he.jsxs)("tbody",{children:[Object(he.jsxs)(be,{children:[Object(he.jsx)(xe,{}),i.map((function(e){return Object(he.jsx)(Oe,{children:e},"nimikentta"+e)}))]}),Object(he.jsxs)(be,{children:[Object(he.jsx)(de,{children:c[0]}),o.map((function(e){return 0===e.points.ykkoset&&e.player===s.player?Object(he.jsxs)("td",{children:[Object(he.jsx)(ye,{name:[c[0],e.player],onChange:l})," "]},"ykkosetinput"+e.player):Object(he.jsxs)(fe,{name:e.player,children:[" ",e.points.ykkoset," "]},"ykkoset"+e.player)}))]}),Object(he.jsxs)(be,{children:[Object(he.jsx)(de,{children:c[1]}),o.map((function(e){return 0===e.points.kakkoset&&e.player===s.player?Object(he.jsxs)("td",{children:[Object(he.jsx)(ye,{name:[c[1],e.player],onChange:l})," "]},"kakkosetinput"+e.player):Object(he.jsxs)(fe,{name:e.player,children:[" ",e.points.kakkoset," "]},"kakkoset"+e.player)}))]}),Object(he.jsxs)(be,{children:[Object(he.jsx)(de,{children:c[2]}),o.map((function(e){return 0===e.points.kolmoset&&e.player===s.player?Object(he.jsxs)("td",{children:[Object(he.jsx)(ye,{name:[c[2],e.player],onChange:l})," "]},"kolmosetinput"+e.player):Object(he.jsxs)(fe,{name:e.player,children:[" ",e.points.kolmoset," "]},"kolmoset"+e.player)}))]}),Object(he.jsxs)(be,{children:[Object(he.jsx)(de,{children:c[3]}),o.map((function(e){return 0===e.points.neloset&&e.player===s.player?Object(he.jsxs)("td",{children:[Object(he.jsx)(ye,{name:[c[3],e.player],onChange:l})," "]},"nelosettinput"+e.player):Object(he.jsxs)(fe,{name:e.player,children:[" ",e.points.neloset," "]},"neloset"+e.player)}))]}),Object(he.jsxs)(be,{children:[Object(he.jsx)(de,{children:c[4]}),o.map((function(e){return 0===e.points.vitoset&&e.player===s.player?Object(he.jsxs)("td",{children:[Object(he.jsx)(ye,{name:[c[4],e.player],onChange:l})," "]},"vitosetinput"+e.player):Object(he.jsxs)(fe,{name:e.player,children:[" ",e.points.vitoset," "]},"vitoset"+e.player)}))]}),Object(he.jsxs)(be,{children:[Object(he.jsx)(de,{children:c[5]}),o.map((function(e){return 0===e.points.kutoset&&e.player===s.player?Object(he.jsx)("td",{children:Object(he.jsx)(ye,{name:[c[5],e.player],onChange:l})},"kutosetinput"+e.player):Object(he.jsxs)(fe,{name:e.player,children:[" ",e.points.kutoset," "]},"kutoset"+e.player)}))]}),Object(he.jsxs)(be,{children:[Object(he.jsx)(de,{children:c[6]}),o.map((function(e){return Object(he.jsxs)(fe,{name:e.player,children:[" ",e.points.valisumma," "]},"valisumma"+e.player)})),Object(he.jsx)("td",{children:Object(he.jsx)(re,{onClick:function(){o.map((function(n){return e(q(n.player,"valisumma",j(n.points)))})),o.map((function(n){return e(q(n.player,"bonus",j(n.points)<63?0:50))})),u.emit("valisumma-calculation",o)},children:Object(he.jsx)(ae,{children:"Laske"})})})]}),Object(he.jsxs)(be,{children:[Object(he.jsx)(de,{children:c[7]}),o.map((function(e){return Object(he.jsxs)(fe,{name:e.player,children:[" ",e.points.bonus," "]},"bonus"+e.player)}))]}),Object(he.jsxs)(be,{children:[Object(he.jsx)(de,{children:c[8]}),o.map((function(e){return 0===e.points.pari&&e.player===s.player?Object(he.jsxs)("td",{children:[Object(he.jsx)(ye,{name:[c[8],e.player],onChange:l})," "]},"pariinput"+e.player):Object(he.jsxs)(fe,{name:e.player,children:[" ",e.points.pari," "]},"pari"+e.player)}))]}),Object(he.jsxs)(be,{children:[Object(he.jsx)(de,{children:c[9]}),o.map((function(e){return 0===e.points.kaksiparia&&e.player===s.player?Object(he.jsxs)("td",{children:[Object(he.jsx)(ye,{name:[c[9],e.player],onChange:l})," "]},"kaksipariainput"+e.player):Object(he.jsxs)(fe,{name:e.player,children:[" ",e.points.kaksiparia," "]},"kaksiparia"+e.player)}))]}),Object(he.jsxs)(be,{children:[Object(he.jsx)(de,{children:c[10]}),o.map((function(e){return 0===e.points.kolmesamaa&&e.player===s.player?Object(he.jsxs)("td",{children:[Object(he.jsx)(ye,{name:[c[10],e.player],onChange:l})," "]},"kolmesamaainput"+e.player):Object(he.jsxs)(fe,{name:e.player,children:[" ",e.points.kolmesamaa," "]},"kolmesamaa"+e.player)}))]}),Object(he.jsxs)(be,{children:[Object(he.jsx)(de,{children:c[11]}),o.map((function(e){return 0===e.points.neljasamaa&&e.player===s.player?Object(he.jsxs)("td",{children:[Object(he.jsx)(ye,{name:[c[11],e.player],onChange:l})," "]},"neljasamaainput"+e.player):Object(he.jsxs)(fe,{name:e.player,children:[" ",e.points.neljasamaa," "]},"neljasamaa"+e.player)}))]}),Object(he.jsxs)(be,{children:[Object(he.jsx)(de,{children:c[12]}),o.map((function(e){return 0===e.points.pikkusuora&&e.player===s.player?Object(he.jsxs)("td",{children:[Object(he.jsx)(ye,{name:[c[12],e.player],onChange:l})," "]},"pikkusuorainput"+e.player):Object(he.jsxs)(fe,{name:e.player,children:[" ",e.points.pikkusuora," "]},"pikkusuora"+e.player)}))]}),Object(he.jsxs)(be,{children:[Object(he.jsx)(de,{children:c[13]}),o.map((function(e){return 0===e.points.isosuora&&e.player===s.player?Object(he.jsxs)("td",{children:[Object(he.jsx)(ye,{name:[c[13],e.player],onChange:l})," "]},"isosuorainput"+e.player):Object(he.jsxs)(fe,{name:e.player,children:[" ",e.points.isosuora," "]},"isosuora"+e.player)}))]}),Object(he.jsxs)(be,{children:[Object(he.jsx)(de,{children:c[14]}),o.map((function(e){return 0===e.points.tayskasi&&e.player===s.player?Object(he.jsxs)("td",{children:[Object(he.jsx)(ye,{name:[c[14],e.player],onChange:l})," "]},"tayskasiinput"+e.player):Object(he.jsxs)(fe,{name:e.player,children:[" ",e.points.tayskasi," "]},"tayskasi"+e.player)}))]}),Object(he.jsxs)(be,{children:[Object(he.jsx)(de,{children:c[15]}),o.map((function(e){return 0===e.points.sattuma&&e.player===s.player?Object(he.jsxs)("td",{children:[Object(he.jsx)(ye,{name:[c[15],e.player],onChange:l})," "]},"sattumainput"+e.player):Object(he.jsxs)(fe,{name:e.player,children:[" ",e.points.sattuma," "]},"sattuma"+e.player)}))]}),Object(he.jsxs)(be,{children:[Object(he.jsx)(de,{children:c[16]}),o.map((function(e){return 0===e.points.yatzy&&e.player===s.player?Object(he.jsxs)("td",{children:[Object(he.jsx)(ye,{name:[c[16],e.player],onChange:l})," "]},"yatzyinput"+e.player):Object(he.jsxs)(fe,{name:e.player,children:[" ",e.points.yatzy," "]},"yatzy"+e.player)}))]}),Object(he.jsxs)(be,{children:[Object(he.jsx)(de,{children:c[17]}),o.map((function(e){return Object(he.jsxs)(fe,{name:e.player,children:[" ",e.points.pisteet," "]},"pisteet"+e.player)})),Object(he.jsx)("td",{children:Object(he.jsx)(re,{onClick:function(){o.map((function(n){return e(q(n.player,"pisteet",p(n.points)))})),u.emit("allPoints-calculation",o)},children:Object(he.jsx)(ae,{children:"Laske"})})})]})]})}),Object(he.jsx)(re,{onClick:function(){var n=r[1],t=r[0],a=r[2];e(q(n,t,Number(a))),u.emit("turn-ready",n,t,a,s.turn,s.maxturns),e(_(i,s.turn,s.maxTurns))},children:Object(he.jsx)(ne,{children:"Ready"})})]})},ve={login:function(){var e=Object(H.a)(J.a.mark((function e(n){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.a.post("/api/login",n);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),createUser:function(){var e=Object(H.a)(J.a.mark((function e(n){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.a.post("/api/users",n);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},ge=function(e,n){e.emit("add-online-user",n)},ke=function(e,n){return function(){var t=Object(H.a)(J.a.mark((function t(r){var a;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ve.login(n);case 2:a=t.sent,ge(e,a.username),window.localStorage.setItem("loggedUser",JSON.stringify(a)),r({type:"STOREUSER",user:a});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"STOREUSER":return n.user;default:return e}},ze=t(8),Se=U.a.div(v||(v=Object(R.a)(["\npadding:100px;\n\n"]))),Ce=function(){var e=Object(ze.f)(),n=Object(M.b)(),t=Object(I.useState)(""),r=Object(L.a)(t,2),a=r[0],c=r[1],i=Object(I.useState)(""),s=Object(L.a)(i,2),o=s[0],u=s[1],l=Object(M.c)((function(e){return e.socket})),p=function(){var t=Object(H.a)(J.a.mark((function t(r){var c;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),c={username:a,password:o},t.next=4,n(ke(l,c));case 4:e.push("/yatzyroom"),l.emit("joined-yatzyroom",c.username);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return console.log("inputfield rendered"),Object(he.jsxs)(Se,{children:[Object(he.jsx)(ne,{children:"Log `n` roll! "}),Object(he.jsxs)("form",{onSubmit:p,children:[Object(he.jsxs)("div",{children:[Object(he.jsx)(ne,{children:"Username"}),Object(he.jsx)(ce,{id:"username",type:"text",value:a,name:"Username",onChange:function(e){return c(e.target.value)}})]}),Object(he.jsxs)("div",{children:[Object(he.jsx)(ne,{children:"Password"}),Object(he.jsx)(ce,{id:"password",type:"text",value:o,name:"Password",onChange:function(e){var n=e.target;return u(n.value)}})]}),Object(he.jsxs)(re,{id:"login-button",type:"submit",children:[" ",Object(he.jsx)(ne,{children:"Log in"})]})]})]})},Ee=U.a.div(g||(g=Object(R.a)(["\nheight:1400px;\nmargin: 300px;\nflex-direction: column;\nalign-items: center;\ntext-align: center;\n background-size: cover;\n\n"]))),Te=function(){var e=Object(ze.f)();return Object(he.jsxs)(Ee,{children:[Object(he.jsx)(ne,{children:"Wanna roll some dices? "}),Object(he.jsx)(ne,{children:" Please log in or create a new user"}),Object(he.jsx)(re,{onClick:function(){e.push("/login")},children:Object(he.jsx)(ne,{children:"Login"})}),Object(he.jsx)(re,{onClick:function(){e.push("/create")},children:Object(he.jsx)(ne,{children:"Create user"})})]})},Re=t(18),Ie=U.a.div(k||(k=Object(R.a)(["\ndisplay:flex;\nflex-direction: row;\njustify-content: center;\npadding:10px;\n\n"]))),Pe=function(){var e=Object(M.c)((function(e){return e.user.username})),n=Object(I.useState)([]),t=Object(L.a)(n,2),r=t[0],a=t[1],c=Object(I.useState)(""),i=Object(L.a)(c,2),s=i[0],o=i[1],u=Object(I.useState)([]),l=Object(L.a)(u,2),p=l[0],j=l[1],d=Object(M.c)((function(e){return e.socket}));Object(I.useEffect)((function(){d.on("joined-username-back-from-server",(function(e){a([].concat(Object(Re.a)(r),["".concat(e," joined YatzyRoom")])),j([].concat(Object(Re.a)(p),[e]))})),d.on("new-private-room-created",(function(e,n){a([].concat(Object(Re.a)(r),["New Private Yatzyroom ".concat(e," created by ").concat(n)]))}))}),[""]),Object(I.useEffect)((function(){return d.on("chat-message-back-to-all-sockets",(function(e){a([].concat(Object(Re.a)(r),[e]))})),function(){d.off("chat-message-back-to-all-sockets")}}),[r]);var b=function(){d.emit("chat-message",s,e),a([].concat(Object(Re.a)(r),["".concat(e,": ").concat(s)])),o("")};return Object(he.jsx)(Ie,{children:Object(he.jsxs)(oe,{children:[Object(he.jsx)(le,{children:r.map((function(e){return Object(he.jsx)(ue,{children:e},"".concat(e).concat(Math.random()))}))}),Object(he.jsx)(ce,{onKeyPress:function(e){"Enter"===e.key&&b()},style:{margin:"20px"},onChange:function(e){return o(e.target.value)},id:"message",type:"text",value:s,name:"MessageInput"}),Object(he.jsx)(re,{onClick:b,children:Object(he.jsx)(ne,{children:"Send"})})]})})},De=function(){var e=Object(I.useState)(""),n=Object(L.a)(e,2),t=n[0],r=n[1],a=Object(I.useState)(""),c=Object(L.a)(a,2),i=c[0],s=c[1],o=Object(ze.f)(),u=Object(M.c)((function(e){return e.user.username})),l=Object(M.c)((function(e){return e.socket}));return Object(he.jsxs)("div",{children:[Object(he.jsx)(ne,{children:"Create or Join private YatzyRoom "}),Object(he.jsx)(ce,{onChange:function(e){return r(e.target.value)},id:"createInputValue",type:"text",value:t,name:"CreateRoomInput"}),Object(he.jsx)(re,{onClick:function(){l.emit("joinPrivateYatzyRoom",t),r(""),l.emit("new-private-yatzyroom",u,t)},children:Object(he.jsx)(ne,{children:"Create"})}),Object(he.jsx)(ce,{onChange:function(e){return s(e.target.value)},id:"JoinInputValue",type:"text",value:i,name:"JoinRoomInput"}),Object(he.jsx)(re,{onClick:function(){l.emit("joinPrivateYatzyRoom",i),function(e,n){e.emit("add-private-room-user",n)}(l,u),o.push("/yatzy")},children:Object(he.jsx)(ne,{children:"Join"})})]})},Ne=U.a.div(w||(w=Object(R.a)(["\ndisplay:flex;\nflex-direction: column;\njustify-content: flex-start;\npadding:10px;\n"]))),Ue=function(){return Object(he.jsxs)(Ne,{children:[Object(he.jsx)(pe,{children:" Welcome to YatzyHazyMazy"}),Object(he.jsx)(Pe,{}),Object(he.jsx)(De,{})]})},Le=U.a.div(z||(z=Object(R.a)(["\npadding:100px;\n\n"]))),Me=function(){var e=Object(ze.f)(),n=Object(I.useState)(""),t=Object(L.a)(n,2),r=t[0],a=t[1],c=Object(I.useState)(""),i=Object(L.a)(c,2),s=i[0],o=i[1],u=function(){var n=Object(H.a)(J.a.mark((function n(t){var a;return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),a={username:r,password:s},n.next=4,ve.createUser(a);case 4:e.push("/");case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(he.jsxs)(Le,{children:[Object(he.jsx)(ne,{children:"Create new user"}),Object(he.jsxs)("form",{onSubmit:u,children:[Object(he.jsxs)("div",{children:[Object(he.jsx)(ne,{children:"Username"}),Object(he.jsx)(ce,{id:"username",type:"text",valupdateue:r,name:"Username",onChange:function(e){return a(e.target.value)}})]}),Object(he.jsxs)("div",{children:[Object(he.jsx)(ne,{children:"Password"}),Object(he.jsx)(ce,{id:"password",type:"text",value:s,name:"Password",onChange:function(e){var n=e.target;return o(n.value)}})]}),Object(he.jsx)(re,{id:"login-button",type:"submit",children:Object(he.jsx)(ne,{children:"Create"})})]})]})},Ae=function(e){return function(){var n=Object(H.a)(J.a.mark((function n(t){return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t({type:"INITPLAYERS",players:e});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"INITPLAYERS":return n.players;default:return e}},Je=t(37),He=t.n(Je),Ge=U.a.div(S||(S=Object(R.a)(["\nheight:200px;\ndisplay:flex;\npadding: 10px;\nalign-content: stretch;\njustify-content: center;\ngap: 3%;\n"]))),Ke=function(){var e=Object(M.c)((function(e){return e.socket})),n=Object(I.useRef)(),t=Object(I.useRef)(),r=Object(I.useRef)(),a=Object(I.useRef)(),c=Object(I.useRef)(),i={dice1:n,dice2:t,dice3:r,dice4:a,dice5:c},s=Object(M.c)((function(e){return e.turn.player})),o=Object(M.c)((function(e){return e.user.username}));Object(I.useEffect)((function(){return e.on("dice-value-back-form-server",(function(e,n){i[n].current.rollDice(e)})),function(){e.off("dice-value-back-form-server")}}),[i]);var u=function(n,t){s===o&&e.emit("dice-value",n,t)};return Object(he.jsxs)(Ge,{children:[Object(he.jsx)(He.a,{ref:n,size:100,onRoll:function(e){return u(e,"dice1")}}),Object(he.jsx)(He.a,{ref:t,size:100,onRoll:function(e){return u(e,"dice2")}}),Object(he.jsx)(He.a,{ref:r,size:100,onRoll:function(e){return u(e,"dice3")}}),Object(he.jsx)(He.a,{ref:a,size:100,onRoll:function(e){return u(e,"dice4")}}),Object(he.jsx)(He.a,{ref:c,size:100,onRoll:function(e){return u(e,"dice5")}})]})},Ve=t(17),We=function(){var e=Object(ze.f)(),n=Object(M.b)(),t=Object(M.c)((function(e){return e.socket}));Object(I.useEffect)((function(){t.on("end-game-signal-from-server",(function(){e.push("/yatzyroom"),n(Ae([])),n($([])),n(F([]))}))}),[""]);return Object(he.jsx)(re,{onClick:function(){t.emit("end-game"),Z.deleteAll()},children:Object(he.jsx)(ne,{children:"End Game"})})},Be=function(){var e=Object(ze.f)(),n=Object(M.b)(),t=Object(M.c)((function(e){return e.user.username})),r=Object(M.c)((function(e){return e.socket})),a=function(){var a=Object(H.a)(J.a.mark((function a(){return J.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n({type:"STOREUSER",user:null});case 2:e.push("/"),r.emit("player-log-out",t);case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(he.jsx)(ie,{children:Object(he.jsx)(Ve.b,{onClick:a,style:{textDecoration:"none"},to:"/",children:Object(he.jsx)(te,{children:"Log out"})})})},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADDUSER":return e.concat(n.user);default:return e}},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SETPRIVATEROOM":return n.privateroom;default:return e}},Fe=U.a.div(C||(C=Object(R.a)(["\n\nwidth: 1000px;\ndisplay:flex;\nflex-direction: row;\njustify-content: center;\npadding:10px;\n\n"]))),qe=function(){var e=Object(M.b)(),n=Object(M.c)((function(e){return e.user.username})),t=Object(I.useState)([]),r=Object(L.a)(t,2),a=r[0],c=r[1],i=Object(I.useState)(""),s=Object(L.a)(i,2),o=s[0],u=s[1],l=Object(M.c)((function(e){return e.privateRoom})),p=Object(M.c)((function(e){return e.socket}));Object(I.useEffect)((function(){p.on("private-room",(function(n){var t;e((t=n,function(){var e=Object(H.a)(J.a.mark((function e(n){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:"SETPRIVATEROOM",privateroom:t});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()))}))}),[""]),Object(I.useEffect)((function(){return p.on("chat-message-back-to-privatechat",(function(e){c([].concat(Object(Re.a)(a),[e]))})),function(){p.off("chat-message-back-to-privatechat")}}),[a]);var j=function(){p.emit("private-chat-message",l,o,n),c([].concat(Object(Re.a)(a),["".concat(n,": ").concat(o)])),function(){var e=document.getElementById("yatzychat123");e.scrollTop=e.scrollHeight}(),u("")};return Object(he.jsx)(Fe,{children:Object(he.jsxs)(oe,{id:"yatzychat123",children:[Object(he.jsx)(le,{children:a.map((function(e){return Object(he.jsx)(ue,{children:e},"".concat(e).concat(Math.random()))}))}),Object(he.jsx)(ce,{onKeyPress:function(e){"Enter"===e.key&&j()},onChange:function(e){return u(e.target.value)},id:"message",type:"text",value:o,name:"MessageInput"}),Object(he.jsx)(re,{onClick:j,children:Object(he.jsx)(ne,{children:"Send"})})]})})},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SETSOCKET":return n.socket;default:return e}},$e=U.a.div(E||(E=Object(R.a)(["\n  display:flex;\n  flex-direction: row;\n  justify-content: center;\n  padding:10px;\n  align-items: flex-start;\n  "]))),_e=function(){var e=Object(M.b)(),n=Object(M.c)((function(e){return e.socket})),t=Object(M.c)((function(e){return e.user})),r=Object(M.c)((function(e){return e.points})),a=Object(M.c)((function(e){return e.turn.player}));Object(I.useEffect)((function(){var n=Object(N.a)("");e(function(e){return function(){var n=Object(H.a)(J.a.mark((function n(t){return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t({type:"SETSOCKET",socket:e});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(n)),n.on("online-user-back-to-all",(function(n){e(function(e){return function(){var n=Object(H.a)(J.a.mark((function n(t){return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t({type:"ADDUSER",user:e});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(n))})),n.on("delete-user-from-players-in-lobby",(function(e){console.log("userDELETED FROM lobbylist with id ",e)})),n.on("sockets-yatzy-room",(function(e){console.log("sockets in yatzyroom client ",e)})),n.on("players-in-private-yatzyroom",(function(n){e(Ae(n)),e($(n)),e(F(n))}))}),[""]);return Object(he.jsxs)(Ve.a,{children:[Object(he.jsxs)(se,{children:[Object(he.jsxs)(ie,{children:["  ",Object(he.jsx)(Ve.b,{style:{textDecoration:"none"},to:"/",children:Object(he.jsx)(te,{children:"Home"})})]}),t&&Object(he.jsxs)(ne,{children:[t.username," logged in"]}),t&&Object(he.jsx)(ie,{children:Object(he.jsx)(Ve.b,{style:{textDecoration:"none"},to:"/yatzyroom",children:Object(he.jsx)(te,{children:"Yatzyroom"})})}),t&&Object(he.jsx)(Be,{}),null===t&&Object(he.jsx)(ie,{children:Object(he.jsx)(Ve.b,{style:{textDecoration:"none"},to:"/login",children:Object(he.jsx)(te,{children:"Login"})})}),null===t&&Object(he.jsx)(ie,{children:Object(he.jsx)(Ve.b,{style:{textDecoration:"none"},to:"/create",children:Object(he.jsx)(te,{children:"Create user"})})})]}),Object(he.jsxs)(ze.c,{children:[Object(he.jsxs)(ze.a,{path:"/yatzy",children:[Object(he.jsx)(pe,{children:"Private YatzyHazyMazy"}),0!==r.length&&Object(he.jsx)(Ke,{}),Object(he.jsxs)($e,{children:[0!==r.length&&Object(he.jsx)(me,{}),0!==r.length&&Object(he.jsxs)(ne,{children:[a,"n  turn"]}),Object(he.jsx)(qe,{})]}),0===r.length&&Object(he.jsx)(re,{onClick:function(){n.emit("give-private-players")},children:Object(he.jsx)(ne,{children:"Start Game"})}),0!==r.length&&Object(he.jsx)(We,{})]}),Object(he.jsx)(ze.a,{path:"/yatzyroom",children:Object(he.jsx)(Ue,{})}),Object(he.jsx)(ze.a,{path:"/create",children:Object(he.jsx)("div",{children:Object(he.jsx)(Me,{})})}),Object(he.jsx)(ze.a,{path:"/login",children:Object(he.jsx)("div",{children:Object(he.jsx)(Ce,{})})}),Object(he.jsx)(ze.a,{path:"/",children:Object(he.jsx)("div",{children:Object(he.jsx)(Te,{})})})]})]})},en=t(40),nn=t(64),tn=t(65),rn=t.p+"static/media/background-mountain.a3b7d252.jpg",an=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"DICESET":return n.val;default:return e}},cn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SETCHATLOG":return[].concat(Object(Re.a)(e),[n.message]);default:return e}},sn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SETCHATLOG":return[].concat(Object(Re.a)(e),[n.message]);default:return e}},on=U.a.div(T||(T=Object(R.a)(["\nheight:2000px;\nflex-direction: column;\nalign-items: center;\ntext-align: center;\n background: url(",")no-repeat center fixed; \n background-size: cover;\n\n"])),rn),un=Object(en.combineReducers)({points:Q,players:Ye,turn:ee,user:we,onlineUsers:Xe,dice:an,privateRoom:Ze,privatechatLog:cn,socket:Qe,chatLog:sn}),ln=Object(en.createStore)(un,Object(nn.composeWithDevTools)(Object(en.applyMiddleware)(tn.a)));D.a.render(Object(he.jsx)(M.a,{store:ln,children:Object(he.jsx)(on,{children:Object(he.jsx)(_e,{})})}),document.getElementById("root"))}},[[98,1,2]]]);
//# sourceMappingURL=main.f0e44e78.chunk.js.map